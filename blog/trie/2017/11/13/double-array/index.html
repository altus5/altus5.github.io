<!doctype html><html dir=ltr lang=ja><meta charset=utf-8><meta http-equiv=x-ua-compatible content="ie=edge"><link rel=alternate hreflang=ja href=https://www.altus5.co.jp/ ><title>【Pythonでテキスト処理】Double arrayでTrieを実装してみた | ALTUS-FIVE</title><meta name=description content="今回はDouble Array（ダブル配列）というデータ構造で実際にTrieをPythonで構築し、共通接頭辞検索を行えるようにします。実装方法については[『日本語入力を支える技術』（徳永, 2012）に準拠。書籍をお持ちでない方にも理解できることを目指しています。"><meta name=viewport content="width=device-width,initial-scale=1"><meta property=og:title content="【Pythonでテキスト処理】Double arrayでTrieを実装してみた | ALTUS-FIVE"><meta property=og:type content=website><meta property=og:url content=https://www.altus5.co.jp><meta property=og:description content="今回はDouble Array（ダブル配列）というデータ構造で実際にTrieをPythonで構築し、共通接頭辞検索を行えるようにします。実装方法については[『日本語入力を支える技術』（徳永, 2012）に準拠。書籍をお持ちでない方にも理解できることを目指しています。"><meta property=og:site_name content=ALTUS-FIVE><meta property=og:image content=https://www.altus5.co.jp/images/ogp.png><meta name=twitter:card content=summary><meta name=twitter:url content=https://www.altus5.co.jp><meta name=twitter:title content="【Pythonでテキスト処理】Double arrayでTrieを実装してみた | ALTUS-FIVE"><meta name=twitter:description content="今回はDouble Array（ダブル配列）というデータ構造で実際にTrieをPythonで構築し、共通接頭辞検索を行えるようにします。実装方法については[『日本語入力を支える技術』（徳永, 2012）に準拠。書籍をお持ちでない方にも理解できることを目指しています。"><meta name=twitter:image content=https://www.altus5.co.jp/images/ogp.png><link rel=apple-touch-icon sizes=180x180 href=/images/apple_touch_icon180x180.png><link rel=apple-touch-icon sizes=152x152 href=/images/apple_touch_icon152x152.png><link rel=apple-touch-icon sizes=120x120 href=/images/apple_touch_icon120x120.png><link rel=apple-touch-icon sizes=76x76 href=/images/apple_touch_icon76x76.png><link href=https://www.altus5.co.jp/feed.xml rel=alternate type=application/atom+xml><link rel=stylesheet href="/styles/common.css?rev=8b1b5b6baabfd0e227afbbbf65f3f876"><script src=https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js></script><script src=/scripts/gist-embed.min.js></script><link rel=stylesheet href="/styles/blog.css?rev=91052963bc4d9e7323a23dd1555b90ac"><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/emojione@4.0.0/extras/css/emojione.min.css><body><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5WGNWC" height=0 width=0 style=display:none;visibility:hidden></iframe></noscript><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-5WGNWC');</script><!--[if lt IE 9]>
    <p class="browserupgrade">
      <strong>古い</strong>ブラウザをご使用されています。
      本サイトを快適に閲覧頂くために、<a href="http://browsehappy.com/">新しいブラウザにアップグレード</a>してください。
    </p>
  <![endif]--><header id=_header><nav class="w_const cf"><h1 class=logo_head><a href=/ ><img src=/images/logo_header.png alt=ALTUS-FIVE（アルタスファイブ）></a></h1><ul class=links><li class=link><a href=/#introduction>アルタスファイブとは</a><li class=link><a href=/#feature>強み</a><li class=link><a href=/#service>サービス</a><li class=link><a href=/#performance>実績</a><li class=link><a href=/#example>開発事例</a><li class=link><a href=/blog/ >ブログ</a><li class=link><a href=/recruit/ >採用情報</a><li class=link><a href=/company/ >会社概要</a><li class="link link_contact"><a href=/contact/ >お問い合わせ</a></ul></nav></header><div id=blog_page class=wrap_all><article id=blog class=article><section class="blog__title w_const"><span>【Pythonでテキスト処理】Double arrayでTrieを実装してみた</span></section><div class="article__conts w_const cf"><div id=blog-content><div id=blog-subtitle class=cf><div id=blog-date>2017/11/13</div><div id=blog-tags><ul class=tag-uline><li class="tag-uline-label tag__7"><a href=/blog/tag/Trie/ >Trie</a><li class="tag-uline-label tag__5"><a href=/blog/tag/Python/ >Python</a><li class="tag-uline-label tag__6"><a href=/blog/tag/Double%20array/ >Double array</a><li class="tag-uline-label tag__9"><a href=/blog/tag/%E3%83%86%E3%82%AD%E3%82%B9%E3%83%88%E5%87%A6%E7%90%86/ >テキスト処理</a><li class="tag-uline-label tag__10"><a href=/blog/tag/%E5%BD%A2%E6%85%8B%E7%B4%A0%E8%A7%A3%E6%9E%90/ >形態素解析</a></ul></div></div><div class=markdown-body><h2 id=trie->Trieを実装する上で必要不可欠な、データ構造の工夫</h2><p>前回のブログで、辞書検索、サジェスト、形態素解析などを実装するのに使われるTrieの概略を紹介しました。<ul><li><a href=https://www.altus5.co.jp/blog/trie/2017/09/06/trie/ >テキスト処理に使われるTrie（トライ木）とLOUDSに関する概略 _ ALTUS-FIVE</a></ul><p>木構造の各エッジに文字のラベルを付けることで辞書を表現するという抽象的な説明を与え、それを実現するLOUDSという簡潔データ構造を紹介しました。 今回はLOUDSとは別の、Double Array（ダブル配列）というデータ構造で実際にTrieをPythonで構築し、共通接頭辞検索を行えるようにします。 実装方法については <a href=http://gihyo.jp/book/2012/978-4-7741-4993-6>『日本語入力を支える技術』（徳永, 2012）</a>、通称「徳永本」に準拠しますので、同著を読まれた方が実装を試みる際の参考にもなると思います。 また、Double arrayのエッセンスを紹介していきますので、参考書籍をお持ちでない方もDouble arrayによるTrieの実装について理解できることを目指しています。<h2 id=-trie->前提：Trieを実装する上で、データ構造の選択は重要</h2><p>まず、Trieを実装する際のデータ構造として、LOUDSやDouble Arrayといった様々な選択肢が存在する背景を紹介しておきます。 検索の高速性を担保しつつTrieを実装する素朴な方法として、各ノードからの文字ごとの遷移先をテーブルに格納しておくというやり方が挙げられます。<p><img src=/images/blog/double-array/trie.jpg alt=""><p>このようなTrieを想定してみましょう（ノードの番号は幅優先で付与）。<p><img src=/images/blog/double-array/table.jpg alt=""><p>上記のTrieに対応するテーブルが上図です。各セルを (行ラベル, 列ラベル)という組で表すことにすると、例えば (2, E)に4が格納されていることになりますね。<p><img src=/images/blog/double-array/highlighted-table.jpg alt=""><p>これは、Trie上の「2」というラベルが付いたノードから、文字「E」のラベルがついたエッジを辿ることで、「4」 というラベルが付いたノードに遷移できることを表します。 このようなテーブルを二次元配列などの形式でメモリ上に保持すれば、例えば「AGI」という入力に対してTrie上のノード5に効率よく遷移出来ます。そのことを、Pythonのコードを用いて確かめてみましょう。<h3 id=-python-trie->【Python】テーブルによるTrieと共通接頭辞検索ソースコード</h3><p>ここからは、GitHubで公開した下記のソースコードを引用しながら解説を進めます。100行に満たないソースコードですが、『日本語入力を支える技術』で解説されている「テーブルによるTrieの実装」をそのまま実現しています。<p><a href=https://github.com/msato-ok/trie-master/blob/master/tabletrie.py>https://github.com/msato-ok/trie-master/blob/master/tabletrie.py</a><p>まず辞書の生成ですが、’MyTrie’というクラスでTrieを表すものとし、’MyTrie’のオブジェクトが一つの辞書を表します。オブジェクトを生成する際には、語彙が格納された配列を入力します。<p><code data-gist-id=291d4a52969470dfa7464faa6175a86b data-gist-line=41-42></code><p>例えば下記のようにすると、辞書を生成することが出来ます。<p><code data-gist-id=291d4a52969470dfa7464faa6175a86b data-gist-line=83-85></code><p>テーブルによるTrieの構築について、アイデアは既にご紹介しましたので、その具体的な実装内容はソースコードをご覧ください（’MyTrie’クラスの’init’関数の中身）。<p>この時、共通接頭辞検索のコードは下記のようになります。<p><code data-gist-id=291d4a52969470dfa7464faa6175a86b data-gist-line=71-81></code><p>共通接頭辞検索のアルゴリズムは、入力として‘query’という文字列を取ります。例えば下記のようなものが考えられるでしょう。<p><code data-gist-id=291d4a52969470dfa7464faa6175a86b data-gist-line=85-90></code><p>出力は’query’が表すノード下にある全ての単語です。一例として、下記が正しい出力です。<p><img src=/images/blog/double-array/output.jpg alt=""><p>上述したリンク先のリポジトリをcloneし、「tabletrie.py」を実行して頂くと、同様の結果が確認可能です。<h3 id=-double-array->テーブルによる実装の弱点と、Double arrayの必要性</h3><p>この実装はシンプルな上、高速な検索が可能ですが、「Trieのノード数、および使われる文字数、それぞれに比例したメモリが必要」という弱点があります。<p>つまり、この素朴な方法では、文字数が大きくなったり、辞書の単語数が大きくなると、メモリに乗り切らないという問題が生じてしまうのです。 そこで、「よりメモリ効率の良いデータ構造を用いれば、巨大な入力（語彙）に対しても使えるようなTrieによる辞書が実装できないか」という問が生じます。<p>Trieを格納・運用できるデータ構造については、検索の高速性をある程度犠牲にしてメモリ効率を上げていくというのが基本方針です。そのような「メモリ効率と高速性、両者のバランスが取れたデータ構造」を「簡潔データ構造」と呼びます。今回のテーマであるDouble array（ダブル配列）は、簡潔データ構造の一種です。<h4 id=-trie->補足：Trieによる形態素解析と「文字数」の上限について</h4><p>※この段落は読まなくても、理解上差し支えありません。<p>先ほど、テーブルによる実装は「Trieのノード数、および使われる文字数、それぞれに比例したメモリが必要」と述べました。 ここで「ノード数」は単語数に従って増大するため問題だということが伝わりやすいと思いますが、「文字数が大きくなる」というイメージは持ちづらいかもしれません。 アルファベットなら26文字、ひらがななら五十音といった風に、上限があるように感じられるので、問題がないと思われるかもしれません。 しかし形態素解析のような用途にTrieを用いたい場合は、文字数は増大の可能性があります。 形態素解析においては、「わがはいはねこである」という入力文章に対し、単語の結びつきの強さによって「吾輩は猫である」という文章と「我が杯羽根子である」という文章のどちらがもっともらしいかという判断を行います。このとき、先ほどの「文字」にあたるものは「単語」（ex. 吾輩、杯、羽根、etc.）であり、その数はアプリケーションの用途によります。 よって文字数の上限を定めることはできず、テーブルによるTrieの「文字数に比例してメモリが必要」という性質は大きな障壁となるのです。<h3 id=double-array-trie->Double arrayによるTrieの実装</h3><p>Double arrayによるTrieの実装をPythonで行ったコードは、下記URLからアクセスできます（GitHubリポジトリ）。<p><a href=https://github.com/msato-ok/trie-master/blob/master/double_array_trie.py>https://github.com/msato-ok/trie-master/blob/master/double_array_trie.py</a><p>まずは、テーブルによる素朴な実装とDouble arrayによる実装はどう違うのか、簡単に対比してみたいと思います。<p>テーブルによる実装では、Trieのノードそれぞれについて、各文字による遷移先を示すための行（すなわち配列）を用意しました。<p><img src=/images/blog/double-array/trie-by-table.jpg alt=""><p>一方、Double arrayを用いることは、語彙（入力する単語の集合）がどんなに大きくても、2本の配列だけでTrie全体を表現することを可能にしてくれます。 「ダブル配列」という言葉からは配列の本数が倍加するような印象を受ける方もおられるかもしれません。そうではなく、「どんなに巨大な辞書でも、2本の配列だけで、対応するTrieを表現できる」ことが、このデータ構造の特色なのです。<p>例えば、下記が上述のTrieに対応する、Double arrayの例です。<p><img src=/images/blog/double-array/trie-by-double-array.jpg alt=""><p>ここでDouble arrayとは、上図にある<code>Check, Base</code>という２つの配列のことです。2本の配列に格納された値を適切に読み込んでいくことで、上記のTrieを再現したり、共通接頭辞検索を高速に行えるようになっています。 しかし、なぜこの2本の配列によってTrieを表現出来るのか、配列そのものを見ていても理解は難しいでしょう。ですので一旦 <code>Check, Base</code>が何を表すのかということは忘れることにします。<p>代わりに、上図のもう一つの特徴的な点に着目します。それは、Trieのノードに付与された番号が先ほどとは変わっているという点です。 これはデタラメな数値ではなく、Double arrayによるTrieの構築アルゴリズムに従って論理的に付けられた番号です。その規則を知ることで、Double arrayによるTrieの構築と、検索に用いる際のアルゴリズムが直観的に理解しやすくなります。<h2 id=double-array->Double arrayにおける各ノードの番号付け規則</h2><h3 id=->番号付け規則を理解するための「データ構造もどき」</h3><p>少し遠回りですが、Double arrayについて理解するためのステップとして、Double arrayから幾つかの要素を省いた「データ構造もどき」について考えてみると、理解しやすくなります。 すなわち、下記のシンプルな規則に基づいてTrie（？）を構築するとどうなるか、想像してみましょう。<ul><li>各ノードの番号として、ノードに入ってくるエッジのラベル「A, B, C, …」を、「1, 2, 3, …」に置き換えた数値を採用する</ul><p>結果は下図のようになります。<p><img src=/images/blog/double-array/mocked-data-structure.jpg alt=""><p>ここでは便宜的にノードとノードの間にエッジを引いて、Trieの形を保たせていますが、実際に情報として存在するのは各ノードの番号だけです。 この「図」をTrieだと考えて運用しようとすると、２つの障害が発生することを、下図で示してみました。<p><img src=/images/blog/double-array/problem.jpg alt=""><ol><li>複数のノードに同じ番号が付けられてしまい、例えば「1」のノードから「L (12)」で遷移しようとしたとき、複数ある「12」のノードのうちどれに遷移すればいいかわからない<li>「1」のノードから「E (5)」で遷移しようとしたとき、遷移先は存在しない（「1」の子ノードに「5」のラベルが付いたノードはない）にもかかわらず、離れた「5」のノードに遷移できるように見えてしまう</ol><p>Double arrayは、この２つの症状を克服するために工夫を加えたものと解釈することが出来ます。<h3 id=-2->正しいノード遷移を可能にするための2つの工夫</h3><p>まず前述した問題1.については、ノードの番号が重複しないようにすれば解決します。 ノード間の番号の重複を解決するために、ちょっとした工夫を加えたものが下図です。<p><img src=/images/blog/double-array/number-of-base.jpg alt=""><p>こちらは、一部のノードに「+1」もしくは「+2」という数値を持たせ（もっと大きな値を持たせてもよい）、ノードの番号を付ける際の規則を、下記のようにほんの少しだけアップデートした結果の図です。<ul><li>各ノードの番号として、<strong>親ノードの持つ数値に対し、</strong>ノードに入ってくるエッジのラベル「A, B, C, …」を、「1, 2, 3, …」に置き換えた数値<strong>を加えたもの</strong>を採用する</ul><p>ひとまずこのようにすると、ノードの番号の重複については解決出来ることになります。<p>上図では、「子ノードの番号に加えた量」を、親ノードの傍に付記していました。実際にメモリ上でその値を記憶しておくためには配列をよく用いますので、親ノードの番号を添え字として、配列の中に値を格納してみることにしましょう。<p><img src=/images/blog/double-array/base.jpg alt=""><p>実はこの配列が、冒頭で天下り的に示した「Double array」の「Base」という配列に一致するものとなっています。 要は、Baseというのは、「子ノードの番号を付ける際のベースとなる量」を表す数値であり、ノードの番号を重複させないために加えるものなのですね。<p>もう一つの工夫は、問題2.を解決するためのものです。 Base配列を導入することでノードの番号の重複は解消されましたが、「遷移出来ないノードに遷移出来るように見える」という問題は依然として残っています。例えば：<ul><li>ノード「0」から「E (5)」という文字によって、ノード「5」に遷移出来るように見える<li>ノード「12」から「F (6)」という文字によって、ノード「7」に遷移出来るように見える（ノード『12』は+1というBaseの値を持つことに注意）</ul><p>これを解決する方法は実は単純です。各ノードに対し、親ノードの番号を覚えさせておくことで、子ノードへ遷移しようとするとき「遷移先が自分の子ノードかどうか」チェック出来るようにすれば良いのです。<p><img src=/images/blog/double-array/number-of-check.jpg alt=""><p>このようにすると、子ノードではないノードへと遷移してしまう問題を防ぐことが可能になります。 例えば「1」というノードからは「E (5)」という文字によってノード「5」に遷移出来るように一見見えますが、ノード「5」の親は「7」です。つまりノード「5」はノード「1」の子ではありませんから、遷移は出来ないということがわかるのです。<p>実はこの「各ノードの親を記憶させた配列」が、Double arrayのもう一つのデータである「Check」という配列にあたるのです。<p><img src=/images/blog/double-array/check.jpg alt=""><p>上図は最初に天下り的に示した「Double arrayによるTrie」と同じ図になっています。 Double arrayに格納されているデータが何を表すかに関する、概念的な説明は以上です。<h2 id=-python-double-array->【Python】Double arrayを構築し、共通接頭辞検索を行うコード</h2><p><a href=https://github.com/msato-ok/trie-master/blob/master/double_array_trie.py>https://github.com/msato-ok/trie-master/blob/master/double_array_trie.py</a><p>上記ソースコードでは、与えられた語彙（単語の集合）に対し、実際にDouble arrayに基づくTrieを構築し、共通接頭辞検索を行うことが出来ます。 行数は130行程度と、tableによる実装とさほど変わりません（ただし、高速化のための工夫は行っていないことにご注意ください）。<p><code>Check, Base</code>への値の入力は、<code>MyTrie</code>クラスのコンストラクタ内で行っています。ここでは入力語彙に基づき、<code>Check, Base</code>に適切な値を格納していきます。<p>また、<code>double_array_trie.py</code>の<code>MyTrie. common_prefix_search</code>関数は、<code>Check, Base</code>二つの配列を用いて下記のような処理を行うことが出来ます。<ul><li>入力語彙のうち、「AL」から始まるすべての単語を出力する（共通接頭辞検索）<li>入力語彙のうち、「ALP」や「ALA」から始まる単語が存在しないことを判定する</ul><p><code data-gist-id=16360d36618d3aba3699ca2b81b1318b data-gist-line=104-119></code><h2 id=trie->Trieをシステム開発に応用する</h2><p>弊社はフルスクラッチの開発案件を得意としており、Trieやそれに類するデータ構造を用いて、共通接頭辞検索を応用した機能を柔軟に実装することが出来ます。 例えば、「求人案件情報の検索において、全文検索に基づくサジェストを出したい」と言った要求は、「Java」という入力に対して「Java」や「Java エンジニア」、「JavaScript」といった出力を返すことなので、共通接頭辞検索を行うことに他なりません。 「できない」と思えるような技術課題について、技術力を駆使してお応えする準備がございます。まずはお気軽に、開発案件のご相談を頂ければ幸いです。<p>また、様々なデータ構造を活用して、顧客の課題を解決する最善の方法を模索したいエンジニアからの求人応募も常にお待ちしております。ぜひ「採用情報」をご覧になってみてください。</div></div><div id=blog-menu><span><strong>最近の記事</strong></span><ul><li class=recent><a href=/blog/document/2019/04/29/markdown-to-confluence/ >Confluenceのドキュメントをマークダウンで書きたい</a><li class=recent><a href=/blog/angular/2019/04/10/angular-error-hadling-implement/ >Angularのエラー処理について考える（実装編）</a><li class=recent><a href=/blog/angular/2019/03/30/angular-error-hadling-design/ >Angularのエラー処理について考える（設計編）</a><li class=recent><a href=/blog/document/2018/10/13/write-spec-with-markdown/ >仕様書をマークダウンで書きたい</a><li class=recent><a href=/blog/data-structure/full-text-search/2018/07/18/full_text_search/ >全文検索を自社サイト・社内サーバーに構築したいクライアントのための留意点</a></ul><span><strong>タグ</strong></span><ul><li class="tag-color-label tag__0"><a href=/blog/tag/%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0%E6%8A%80%E8%A1%93%E7%B7%8F%E8%A6%A7/ >プログラミング技術総覧 (16)</a><li class="tag-color-label tag__1"><a href=/blog/tag/Actor%E3%83%A2%E3%83%87%E3%83%AB/ >Actorモデル (1)</a><li class="tag-color-label tag__2"><a href=/blog/tag/%E3%83%AA%E3%82%A2%E3%82%AF%E3%83%86%E3%82%A3%E3%83%96%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0/ >リアクティブプログラミング (1)</a><li class="tag-color-label tag__3"><a href=/blog/tag/%E6%A9%9F%E6%A2%B0%E5%AD%A6%E7%BF%92/ >機械学習 (6)</a><li class="tag-color-label tag__4"><a href=/blog/tag/%E9%9D%99%E7%9A%84%E3%82%B5%E3%82%A4%E3%83%88/ >静的サイト (1)</a><li class="tag-color-label tag__5"><a href=/blog/tag/%E7%92%B0%E5%A2%83%E6%A7%8B%E7%AF%89/ >環境構築 (5)</a><li class="tag-color-label tag__6"><a href=/blog/tag/Docker/ >Docker (5)</a><li class="tag-color-label tag__7"><a href=/blog/tag/AngularJS/ >AngularJS (2)</a><li class="tag-color-label tag__8"><a href=/blog/tag/React/ >React (2)</a><li class="tag-color-label tag__9"><a href=/blog/tag/%E3%82%A2%E3%83%AB%E3%82%BF%E3%82%B9%E3%83%95%E3%82%A1%E3%82%A4%E3%83%96/ >アルタスファイブ (2)</a><li class="tag-color-label tag__10"><a href=/blog/tag/Vagrant/ >Vagrant (1)</a><li class="tag-color-label tag__11"><a href=/blog/tag/%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0/ >プログラミング (1)</a><li class="tag-color-label tag__0"><a href=/blog/tag/Laravel/ >Laravel (1)</a><li class="tag-color-label tag__1"><a href=/blog/tag/OAuth/ >OAuth (1)</a><li class="tag-color-label tag__2"><a href=/blog/tag/%E3%82%A2%E3%83%AB%E3%82%B4%E3%83%AA%E3%82%BA%E3%83%A0/ >アルゴリズム (2)</a><li class="tag-color-label tag__3"><a href=/blog/tag/DB/ >DB (2)</a><li class="tag-color-label tag__4"><a href="/blog/tag/Let's%20Encrypt/">Let&#39;s Encrypt (1)</a><li class="tag-color-label tag__5"><a href=/blog/tag/Chainer/ >Chainer (1)</a><li class="tag-color-label tag__6"><a href=/blog/tag/%E3%83%9E%E3%83%AB%E3%82%B3%E3%83%95%E9%80%A3%E9%8E%96/ >マルコフ連鎖 (1)</a><li class="tag-color-label tag__7"><a href=/blog/tag/Trie/ >Trie (2)</a><li class="tag-color-label tag__8"><a href=/blog/tag/LOUDS/ >LOUDS (1)</a><li class="tag-color-label tag__9"><a href=/blog/tag/%E3%83%86%E3%82%AD%E3%82%B9%E3%83%88%E5%87%A6%E7%90%86/ >テキスト処理 (2)</a><li class="tag-color-label tag__10"><a href=/blog/tag/%E5%BD%A2%E6%85%8B%E7%B4%A0%E8%A7%A3%E6%9E%90/ >形態素解析 (2)</a><li class="tag-color-label tag__11"><a href=/blog/tag/Web%20Performer/ >Web Performer (1)</a><li class="tag-color-label tag__0"><a href=/blog/tag/Spring%20Boot/ >Spring Boot (1)</a><li class="tag-color-label tag__1"><a href=/blog/tag/Spring%20Framework/ >Spring Framework (2)</a><li class="tag-color-label tag__2"><a href=/blog/tag/%E6%9B%B8%E8%A9%95/ >書評 (1)</a><li class="tag-color-label tag__3"><a href=/blog/tag/%E7%B5%84%E7%B9%94%E5%BF%83%E7%90%86%E5%AD%A6/ >組織心理学 (1)</a><li class="tag-color-label tag__4"><a href=/blog/tag/%E3%82%B2%E3%83%BC%E3%83%A0%E7%90%86%E8%AB%96/ >ゲーム理論 (1)</a><li class="tag-color-label tag__5"><a href=/blog/tag/Python/ >Python (1)</a><li class="tag-color-label tag__6"><a href=/blog/tag/Double%20array/ >Double array (1)</a><li class="tag-color-label tag__7"><a href=/blog/tag/%E6%9C%80%E9%81%A9%E5%8C%96/ >最適化 (2)</a><li class="tag-color-label tag__8"><a href=/blog/tag/%E3%82%B7%E3%82%B9%E3%83%86%E3%83%A0%E9%96%8B%E7%99%BA/ >システム開発 (6)</a><li class="tag-color-label tag__9"><a href=/blog/tag/TERASOLUNA/ >TERASOLUNA (1)</a><li class="tag-color-label tag__10"><a href=/blog/tag/%E7%B5%B1%E8%A8%88%E5%AD%A6/ >統計学 (1)</a><li class="tag-color-label tag__11"><a href=/blog/tag/%E3%83%87%E3%83%BC%E3%82%BF%E5%8F%AF%E8%A6%96%E5%8C%96/ >データ可視化 (1)</a><li class="tag-color-label tag__0"><a href=/blog/tag/R/ >R (1)</a><li class="tag-color-label tag__1"><a href=/blog/tag/%E8%B2%A9%E5%A3%B2%E7%AE%A1%E7%90%86%E3%82%B7%E3%82%B9%E3%83%86%E3%83%A0/ >販売管理システム (1)</a><li class="tag-color-label tag__2"><a href=/blog/tag/%E7%94%A8%E8%AA%9E%E9%9B%86/ >用語集 (2)</a><li class="tag-color-label tag__3"><a href=/blog/tag/%E3%83%9C%E3%83%88%E3%83%AB%E3%83%8D%E3%83%83%E3%82%AF/ >ボトルネック (2)</a><li class="tag-color-label tag__4"><a href=/blog/tag/Jupyter%20Notebook/ >Jupyter Notebook (1)</a><li class="tag-color-label tag__5"><a href=/blog/tag/%E4%BB%95%E4%BA%8B%E5%8A%B9%E7%8E%87%E5%8C%96/ >仕事効率化 (1)</a><li class="tag-color-label tag__6"><a href=/blog/tag/%E3%83%87%E3%83%BC%E3%82%BF%E6%A7%8B%E9%80%A0/ >データ構造 (4)</a><li class="tag-color-label tag__7"><a href=/blog/tag/%E5%AE%9F%E8%A3%85/ >実装 (2)</a><li class="tag-color-label tag__8"><a href=/blog/tag/%E9%80%A3%E6%83%B3%E9%85%8D%E5%88%97/ >連想配列 (1)</a><li class="tag-color-label tag__9"><a href=/blog/tag/Ruby/ >Ruby (2)</a><li class="tag-color-label tag__10"><a href=/blog/tag/%E3%83%8F%E3%83%83%E3%82%B7%E3%83%A5%E3%83%86%E3%83%BC%E3%83%96%E3%83%AB/ >ハッシュテーブル (1)</a><li class="tag-color-label tag__11"><a href=/blog/tag/%E3%83%86%E3%82%AD%E3%82%B9%E3%83%88%E5%9C%A7%E7%B8%AE/ >テキスト圧縮 (1)</a><li class="tag-color-label tag__0"><a href=/blog/tag/%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E5%9C%A7%E7%B8%AE/ >ファイル圧縮 (1)</a><li class="tag-color-label tag__1"><a href=/blog/tag/%E5%85%A8%E6%96%87%E6%A4%9C%E7%B4%A2/ >全文検索 (1)</a><li class="tag-color-label tag__2"><a href=/blog/tag/%E4%BB%95%E6%A7%98%E6%9B%B8/ >仕様書 (2)</a><li class="tag-color-label tag__3"><a href=/blog/tag/%E3%83%9E%E3%83%BC%E3%82%AF%E3%83%80%E3%82%A6%E3%83%B3/ >マークダウン (2)</a><li class="tag-color-label tag__4"><a href=/blog/tag/a5doc/ >a5doc (2)</a><li class="tag-color-label tag__5"><a href=/blog/tag/Angular/ >Angular (2)</a><li class="tag-color-label tag__6"><a href=/blog/tag/%E3%82%A8%E3%83%A9%E3%83%BC%E5%87%A6%E7%90%86/ >エラー処理 (2)</a><li class="tag-color-label tag__7"><a href=/blog/tag/SPA/ >SPA (2)</a><li class="tag-color-label tag__8"><a href=/blog/tag/Confluence/ >Confluence (1)</a></ul></div></div><div class=w_const><div id=fb-root></div><script>(function(d, s, id) {
            var js, fjs = d.getElementsByTagName(s)[0];
            if (d.getElementById(id)) return;
            js = d.createElement(s); js.id = id;
            js.src = "//connect.facebook.net/ja_JP/sdk.js#xfbml=1&version=v2.8&appId=331911723808007";
            fjs.parentNode.insertBefore(js, fjs);
          }(document, 'script', 'facebook-jssdk'));</script><ul class=socialbuttons><li class=twitter><a href=https://twitter.com/share class=twitter-share-button>Tweet</a><script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script><li class=facebook><div class=fb-like data-href=https://www.altus5.co.jpundefined data-layout=box_count data-action=like data-size=small data-show-faces=false data-share=false></div><li class=hatena><a href=http://b.hatena.ne.jp/entry/ class=hatena-bookmark-button data-hatena-bookmark-layout=vertical-normal data-hatena-bookmark-lang=ja data-hatena-bookmark-title=%u3010Python%u3067%u30C6%u30AD%u30B9%u30C8%u51E6%u7406%u3011Double%20array%u3067Trie%u3092%u5B9F%u88C5%u3057%u3066%u307F%u305F title=このエントリーをはてなブックマークに追加><img src=https://b.st-hatena.com/images/v4/public/entry-button/button-only@2x.png alt=このエントリーをはてなブックマークに追加 width=20 height=20 style="border: none"></a><script src=https://b.st-hatena.com/js/bookmark_button.js charset=utf-8 async></script><li class=pocket><a data-pocket-label=pocket data-pocket-count=vertical class=pocket-btn data-lang=ja></a><script>!function(d,i){if(!d.getElementById(i)){var j=d.createElement("script");j.id=i;j.src="https://widgets.getpocket.com/v1/j/btn.js?v=1";var w=d.getElementById(i);d.body.appendChild(j);}}(document,"pocket-btn-js");</script><li class=feedly><a href=//feedly.com/i/subscription/feed%2Fhttps%3A%2F%2Fwww.altus5.co.jp%2Ffeed.xml target=blank><img id=feedlyFollow src=http://s3.feedly.com/img/follows/feedly-follow-rectangle-volume-small_2x.png alt="follow us in feedly" width=66 height=20></a></ul><div class=relate><h1>関連記事</h1><ul><li class=post-link><span class=post-date>2017/09/06 </span><a class=post-title href=/blog/trie/2017/09/06/trie/ >テキスト処理に使われるTrie（トライ木）とLOUDSに関する概略 </a><span class=post-description><a href=/blog/trie/2017/09/06/trie/ >Trieはテキスト処理において必需品と言えるデータ構造です。辞書検索、日本語入力、サジェストの実装や、形態素辞書が主な用途と言えるでしょうか。Pythonの自然言語処理パッケージNLTKでも、形態素解析にトライ木を用いています。</a></span></ul></div></div></article><article id=scout class=article><h1 class="scout_title w_const">＼(＾▽＾*) 私たちと一緒に働いてみませんか？ (*＾▽＾)／</h1><div class="article__conts w_const"><section class="content01 content"><p>少しでも興味をお持ちいただけたら、お気軽に、お問い合わせください。<p><a href=/contact/entry/ >採用応募受付へ</a><p>(採用応募じゃなく、ただ、会ってみたいという方も、大歓迎です。)</section></div></article></div><footer id=_footer><nav class=w_const><div class="content01 cf"><div class=profile><h1 class=foot_logo><a href=/ ><img src=/images/logo_footer.png alt=Altus-Five（アルタスファイブ）></a></h1><div class=address><p class=paragraph>〒160-0022<p class=paragraph>東京都新宿区新宿2-1-9 ステラ新宿5F<p class=paragraph><a href=tel:03-6904-5573>TEL：03-6904-5573</a></div></div><ul class="links links01"><li class=link><a href=/ >TOP</a><li class=link><a href=/#introduction>アルタスファイブとは</a><li class=link><a href=/#feature>強み</a><li class=link><a href=/#service>サービス</a><li class=link><a href=/#performance>実績</a><li class=link><a href=/#example>開発事例</a><li class=link><a href=/blog/ >ブログ</a></ul><ul class="links links02"><li class=link><a href=/recruit/ >採用情報</a><li class=link><a href=/company/ >会社概要</a><li class=link><a href=/privacy/ >個人情報保護方針</a><li class=link><a href=/contact/ >お問い合わせ</a></ul><ul class=marks><li class=mark><img src=/images/p_mark.png alt=""></ul></div><div id=copyright>© 2016 Altus-Five Co.,LTD. ALL RIGHTS RESERVED.</div></nav></footer><script src="/scripts/vendor.js?rev=0222573b207f1383f49b8afd2629c0fd"></script><script>$(function() {
      var fout = false;
      var orgFontFamily;
      if (fout) {
        var orgFontFamily = $('body').css('font-family');
        $('body').css({'font-family': "'Helvetica', 'Arial', 'メイリオ', 'Meiryo', 'MS  PGothic', 'ヒラギノ角ゴ Pro W3', 'Hiragino Kaku Gothic Pro', sans-serif"});
      }
      WebFont.load({
        google: {
          families: [
            "PT Sans Narrow:n4,n7"
          ]
        },
        custom: {
          families: [
            "Noto Sans Japanese:n4,n7"
          ]
        },
        timeout: 3000,
        loading: function() {
          // ロードしているとき allfonts
        },
        active: function() {
          // Web Fontが使用可能になったとき allfonts
        },
        inactive: function() {
          // ブラウザがサポートしていないとき allfonts
        },
        fontloading: function(fontFamily, fontDescription) {
          // fontFamilyをロードしているとき onefont
        },
        fontactive: function(fontFamily, fontDescription) {
          // fontFamilyが使用可能になったとき onefont
          if (fout) {
            if ('Noto Sans Japanese' === fontFamily) {
              $('body').css({'font-family': orgFontFamily});
            }
          }
        },
        fontinactive: function(fontFamily, fontDescription) {
          // fontFamilyをブラウザがサポートしていないとき onefont
        }
      });
    });</script><script src="/scripts/common.js?rev=88ed76e81255e2c8404edb27a6c51044"></script><script src="/scripts/jquery.tile.min.js?rev=24209686ddcda6d9849f65fb20bede19"></script><script type=text/x-mathjax-config>MathJax.Hub.Config({
      tex2jax: {
        inlineMath: [ ['$','$'], ['\\(','\\)'] ],
        processEscapes: true
      }
    });</script><script async src="//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS_CHTML"></script>